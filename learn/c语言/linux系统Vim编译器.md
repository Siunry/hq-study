# linux操作系统及指令符

### 操作系统

| 操作系统 |      内核      |
| :------: | :------------: |
| windows  | NT内核:不开源  |
|  ubuntu  | Linux内核:免费 |
|  redhat  | Linux内核:免费 |
|   安卓   | Linux内核:免费 |
|   IOS    | unix内核:收费  |



## shell命令

### 管理用户命令

简介:

​		

#### adduser命令

向linux操作系统中操作系统中添加一个用户

- `sudo adduser username`添加一个username用户.
  - 新创建的用户是没有sudo权限的.
  - 添加 新用户sudo权限.
  - 在文件 /etc/sudoers中添加内容

#### deluser命令

- `sudo deluser username`

## 权限管理

### chmod

#### 1.通过数字对权限进行修改

- `chmod +3个八进制数字`将文件修改指定权限
  - read  4
  - write 2
  - x        1
    - eg:
    - `chmod 0777 filename`

#### 2.通过+/-方式对用户权限进行操作

- `chmod` 用户 +/- 权限 filename
  - eg:
    - `chmod u-w file1`

如果文件所属人不是自己,则不能修改权限,除非是管理员用户.

### chgrp命令

功能:

​		更改文件所属组

格式:

- `chgrp groupname filename `

### chown命令

功能:

​		更改文件的所属人

格式:

- `chown username filename`
- 将文件的所属人修改为username

## 磁盘管理

简介:在Linux操作系统中,使用U盘的时候需要先插入到电脑中,然后在vmware窗口中选择连接到Linux.

##### fdisk命令

进行磁盘管理的命令.

`sudo fdisk -l`

##### df命令

查看磁盘的挂载情况

##### 取消挂载命令

umount

- 取消磁盘挂载.
  - `umount 磁盘挂载点`

##### 挂载命令

mount

- 将磁盘内容挂载到文件夹中.
  - `mount 挂载磁盘 挂载文件夹`

## 软件安装

linux提供两种安装软件的方式:==在线安装(apt-get) 		离线安装(dpkg)==

#### 离线安装(dpkg)

```
linux 软件包
	sl		-	  			5.02-1_					 amd64.      deb
   软件名	间隔符  版本号:主版本号 次版本号 修订版本号   主机架构		文件后缀													ubuntu软件包后缀都是.deb
   
   dpkg命令
   功能:ubuntu中离线管理安装包的工具. 
   		缺点:不会安装软件所需要的库(如果软件需要C++环境才可安装,)
   注意:在使用dpkg进行软件包安装管理,需要先拥有软件包		
```

#### 共享文件夹(三不管地带)

共享文件夹:Linux与windows都可以访问的文件夹.(仅仅用来进行双系统相互传输数据)

创建步骤:

1. 虚拟机-->设置-->选项-->共享文件夹-->总是启用
2. 先移除原有文件.
3. 添加路径

在Linux中的路径为:==/mnt/hgfs/share/==

### 软件离线安装

==sudo dpkg -i 软件包名称==

### 软件运行

- 直接输入软件包名. `filename`

- 查看软件的使用方式:`man + filename`

### 卸载软件

- 不完全卸载:
  - `sudo dpkg -r filename`

- 完全卸载:
  - `sudo dpkg -P filename`

### 查看安装信息

`sudo dpkg -l filename`

查看文件安装路径:`sudo dpkg -L filename`

## 在线安装

在线安装前提:网络连通.

1. 检测ubuntu是否连网
2. 在终端中输入 ping www.baidu.com

### 更新软件源

- 存放位置: `/etc/apt/source.list`里面存放了所有的软件源
- 1. 点击左下角所有程序按钮
  2. 点击软件更新器---->停止更新---->设置---->ubuntu软件---->勾选全部选项
  3. 在下载自中选择更新源链接
  4. 终端输入指令:`sudo apt-get update.`

### 在线安装/卸载软件

```
//apt-get 是一个软件包管理工具.
//注意:
		apt-get安装软件需要保证在联网情况下
		apt-get安装软件如果需要依赖,apt-get会自动安装依赖文件.		
```

1. 安装软件
   - `sudo apt-get install filename`
     - 从服务器下载软件安装包到系统中.(/var/cache/apt/archives/)并==直接安装==
   - `sudo apt-get download filename`
     - ==仅==从服务器下载软件安装包到系统中.(/var/cache/apt/archives/)
   - `sudo apt-get source filename`
     - 从服务器中下载文件的==源代码==

1. 卸载软件

   - `sudo apt-get rmove  filename` (没有卸载/var/cache/apt/archives/路径中的软件安装包)
   - `sudo apt-get clean `(在文件夹内执行,清楚本文件夹内全部软件安装包)

   

## Shell命令

### 压缩命令

- 简介:Linux有三种压缩方式,压缩是针对单独的文件进行操作的,不能对文件夹进行压缩.
  1. ==gzip==-->压缩后会生成 -->==.gz文件==
  2. ==bzip2== -->压缩后会生成 --> ==.bz2文件==
  3. ==xz== -->压缩后会生成 -->==.xz文件==



- 使用方式:
  1. ==gizp==
     - 压缩:`gizp filename`压缩文件并生成.gz的文件
     - 解压:`gunzip filename.gz`解压缩文件并生成文件
  2. ==bzip2==
     1. `bzip2 filename `压缩文件并生成.bz2的文件
     2. `bunzip2 filename.bz2`解压缩文件并生成文件
  3. ==xz==
     1. `xz`
        1. 压缩:`xz filename`压缩文件并生成.xz的文件
        2. 解压:`unxz filename.xz`解压缩文件并生成文件

三种压缩模式对比:

- gzip:速度快,压缩率低.
- bzip:压缩速度居中,压缩率居中
- ==xz:速度慢,压缩率高.(针对内存较大的文件)==

### 归档命令(tar命令)

- tar命令:

  - 将目录文件或者普通文件  归档生成普通文件()

  - `-c`  打包

  - `-x`  解包

  - `-v`  显示详细过程

  - `-f`  后面需要跟文件名

    _____

  - `-z`打包之后压缩文件并生成.gz的文件

  - `-j`打包压缩文件并生成.bz2的文件

  - `-J`打包压缩文件并生成.xz的文件

```
归档操作:
	tar -cvf name.tar file1 file2
	eg:
			tar -cvf code.tar hello.c test.c demo.c
			//将hello.c test.c demo.c三个文件归档生成一个code.tar文件
			//-c -v 参数位置可以互换,但是f一定放到最后.
			//-v可以省略.
			
解归档操作:
	tar -xvf name.tar
	eg:
			tar -xvf code.tar
			//将code.tar文件进行拆包操作
			
归档同时进行压缩
	tar -czvf filename.ttar.gz file1 file2
	eg:
			tar -cvf code.tar.gz hello.c test.c demo.c
			//将hello.c test.c demo.c三个文件归档生成一个code.tar.gz文件
			
后两种压缩方式同上!!!!!!!!!!!!!!!!

万能解归档 解压缩方式:
	tar -xvf 需要解归档的文件
	//文件会自动匹配格式解压缩方式.
```

### 











## **终端**

1. 直接点击桌面终端按钮
2. ==ctrl alt t==  打开新终端窗口
3. 快捷键==ctrl shift t== 终端内部打开终端
4. 执行==exit==指令直接关闭终端窗口
5. ==ctrl+shift+"+" 与 crtl + "-"==实现窗口文字大小的调整

**linux@ubuntu:~$**

linux  当前用户名   可以在终端中执行 :   whoami 来查询当前用户名称

@ 间隔符

ubuntu 主机名(hostname)  可以在终端中执行 :  hostname 来查询当前用户名称

:  间隔符

~ 当前所在路径   ~  表示是在当前用户的根目录下的home目录下的linux(/home/linux)

$ 当前用户的权限  `$`为普通用户 # 表示管理员用户(root用户)

##  **linux文件系统**

### 代码相关

windows管理文件的方式是通过盘符进行管理 C/windows/...

linux管理文件的方式是通过一颗倒立的树的形式进行管理



​	 ==**/**==   ------linux中的根目录(类似于windows中为分盘符的C盘)

​		==bin==  :存放一些二进制文件: ls cd 等可执行文件

​		==dev== :存放设备文件

​		==etc== :存放系统配置文件

​		==lib==:存放系统库文件

​		==porc== :进程相关文件

​		==sys== :类似于windows system 32

​		==boot==:存放启动相关的引导文件

​		==home== :存放用户

​				==linux== :用户

​		==usr== :存放系统软件

### 路径

绝对路径:从根目录出发文件所在的位置 (/home/linux/)

相对路径:从当前路径出发文件所在的位置

### 用户

普通用户 or 管理员用户

切换用户:

```
su root
```

进入管理员用户

```
sudo
```



## 指令符

### ls命令

功能 :  显示当前路径下的内容

格式:

​			==ls 	or	ls + 参数==

ls 参数:

- -l :`ls -l`	:显示当前路径下文件的详细信息

  - `-lh`与`-l`相比更注重文件的大小(将文件大小转换为K,M单位)易于理解

- -a :`ls -a`显示当前路径下所有文件(包含隐藏文件)

  注意: linux中的隐藏文件全都是以`·` 开头的

- -i :`ls -i`显示文件的inode号 在一个文件系统下 inode号相同的文件是一个 (根目录存在多个文件系统 )

- -R :`ls -R`递归显示当前文件夹内的所有文件

##### 详细信息说明

​	`-rw-rw-r-- 1 linux linux 1231 10月27 14:45 client.c`

- `-` 文件的类型

bsp-lcd

|     字母     |                文件类型                |
| :----------: | :------------------------------------: |
|   b(block)   |               块设备文件               |
|  s(socket)   |       套接字文件(主要应用于网络)       |
|   p(pipe)    |        管道文件(进程间通讯使用)        |
|      -       |                普通文件                |
|   l(link)    | (小写L)链接文件(windows当中的快捷方式) |
|   c(char)    |              字符设备文件              |
| d(directory) |                目录文件                |



 -	`rwx`文件的权限

​	三组 rwx 分别对应   当前用户权限    组用户权限    其他权限     的权限

​	r 	读权限				二进制: 100(4)

​	w 	写权限		       二进制: 10(2)

​	x      可执行权限	  二进制:  01(1)

​    -		无权限		![image-20240722135812407](C:\Users\Somnium\AppData\Roaming\Typora\typora-user-images\image-20240722135812407.png)

		- `1`  硬链接个数
		- `linux` 文件创建者
		- `linux` 文件创建所属组
		- 1231 文件大小
		- 10月27 14:45  时间戳
		- client.c 文件名

### clear命令

功能:

​		清空当前窗口的内容

快捷方式: ctrl + L

### cd命令

功能:

​		进入指定目录

格式:

​		`cd 相对路径/目录名称`

​		`cd 绝对路径/目录名称`

特殊使用:

​		`cd ./`   :切换到当前路径

​		`cd ../`  :切换到上一层目录

​		`cd ~`   :切换到用户的家目录

​		`cd/`	:切换到根目录

​		`cd -`    :切换到上一次所在的目录

### pwd命令

功能:

​		以绝对路径的形式显示当前所在位置

格式: `pwd`

### touch命令

功能:

​		创建一个普通文件

格式:

  - `touch + 文件名` (如果创建文件不存在,创建文件.如果创建文件已经存在 则更行时间戳)
  - `touch + 文件1 文件2 文件3 `(touch命令支持同时创建多个文件)

### mkdir命令

功能:创建出一个目录文件.如当前目录已经存在则会报错

格式:

		- `mkdir 文件名` 创建一个目录文件 (同一录下不可存在名称相同的目录文件)
		- `mkdir -p 文件1/文件2/文件3` (创建一个层级结构目录)

### rm命令

功能:

​		删除普通文件or 目录

格式:

- `rm 文件名`(删除文件)
- `rm 文件1 文件2 文件3`(支持同时删除多个文件)
- `rm -rf 目录名`(删除目录 也可以删除文件)
  - `*`表示任意个 任意字符
- `rm -rf * `删除目录内所有文件

### cp命令

功能:拷贝文件或者目录到指定的目录下

格式:

- `cp 路径  src(源文件)  目标路径`(拷贝文件)

  ​			eg:`cp ./info.c   ./DC24071`

- `cp 路径 src(源目录名称)  目标路径  -r`(拷贝文件夹)

​							eg:`cp ./info.c   ./DC24071  -r`

### mv命令

功能:

1. 剪切文件或者目录
2. 重命名

格式:

- `mv 路径 src(源文件或目录名称)   指定目录`
- `mv 文件或目录名称  新名称`

### cat命令

功能:

​		将文件的内容显示到终端中

格式:

1. 将文件的内容显示到终端中

- `cat fliename`	

2. 将文件的内容显示到终端中并==显示行号==(适用于看一下小型文件(配置文件))

- `cat -n filename`

### head命令

功能:

​		将文件的内容显示到终端中,默认显示==前==10行内容

使用方式:

1. 将文件的内容显示到终端中,默认显示前10行的内容
   - `head filename`
2. 将文件的内容显示到终端中,显示前n行的内容
   - `head -n filename`



### tail命令

功能

​		:将文件的内容显示到终端中,默认显示==倒数==10行内容

使用方式:

1. 将文件的内容显示到终端中,默认显示倒数10行的内容
   - `head filename`
2. 将文件的内容显示到终端中,显示倒数n行的内容
   - `head -n filename`

### echo命令

功能:

​		在终端中输出一个字符串

格式:`echo 要输出内容`

- 重定向符号 
  - ` >`以覆盖的形式重定向到一个文件中
    - `head -7 hello.txt> hello2.txt `
  - `>>`以追加的形式重定向到一个文件中

### 管道命令

功能:

​			前一条命令的输出,作为后一条命令的输入使用

格式:

- `code1 | code2`
  - eg:
  - `head -7 hello.txt | tail -3 `

### wc命令

功能:

​		对文件进行统计: 行数  单词数 字符数

格式:

- `wc filename`

  - `-l`行数
  - ``-c`字符数
  - `-w`单词数

- eg:

- `wc code.txt`

  - 结果: 		10 		 30 		 141

    ​				行数	单词数	  字符数

### grep命令

功能:

​		在文件中搜索指定字符串的内容.一般情况下会配合 | (管道)进行使用

格式:

- `grep -ni str filename`

参数:

- `-n`显示出查找内容所在==行号==
- `-i`忽略大小写
- `-w`按单词精确查找
- `-R`递归查找
- `^string` 找到以string开头的行
- `string$` 找到以string结尾的行
- `^string$` 精确查找string所在位置

### find命令

功能:

​		按照文件名字(可以按照类型查找)查找文件所在位置

### cut命令

功能:

​		文件切割命令,切割文件中的字符串,按照指定的格式进行切割

参数:

- `-d`后面跟指定的切割内容
- `-f`裁剪的域

使用方式:

- 



### shutdown命令

1. 关机shutdown
   - 使用格式:
     - sudo  shutdown -h 15:30 : 指定时间进行关机, 将在15:30的时候进行关机
     - sudo  shutdown -h +60  :  60分钟之后进行关机.     
     - sudo  shutdown -h  now :  立即关机   
     - 统一使用 shutdown  -c 进行取消操作.

​		

### ln命令

#### 软链接

​	软链接类似于windows中的快捷方式

格式:

- `ln -s srcfile linkfile`

  - eg:

    - `ln -s code.c hello`

      //为code.c创建一个链接文件hello

  1. 软连接是一个全新的文件有独立的inode号,软连接里面存放的数据是创建软链接的时候使用的路径
     - 如果使用的是相对路径,则文件不可以动位置
     - 如果使用的是绝对路径,则文件可以动位置
  2. 对软连接文件里面的内容进行修改的时候. 会对源文件进行修改

#### 硬链接

​	硬链接:相当于为文件重新起了一个别名,可以通过别名找到这个文件.

使用方式:

- `ln  srcname filename`

  - eg:

    - `ln hello.c world.c`

      //为hello.c创建一个硬链接

注意:

1. 硬链接相当于给文件起别名,每创建一个硬链接,硬链接个数+1
2. 当硬链接个数不为1时,删除文件,硬链接个数-1;当硬链接个数为1时,删除之后才会真正删除.
3. 硬链接只能链接普通文件,不能链接目录文件.

# 软连接vim编辑器

vi/vim本质上是一个文本编辑器(但功能比文本编辑器强大)

打开vim命令 :`vim 文件名称`

## vim编辑器介绍

![img](https://note.youdao.com/yws/public/resource/fcaf003cf95f3c16d1e971c8bc89356b/xmlnote/WEB739157f260f25ccada53fcbba4ebc5d2/WEBRESOURCEbd9011632b7c835e01851eaab32f0c70/64460)

## vim三种模式

- [==命令行模式==]():使用特定命令对文本进行编辑
- [==插入模式==](### 插入模式):在红色区域文本中编译内容.
- [==底行模式==]():在黄色区域输入保存退出文件命令操作

![img](https://note.youdao.com/yws/public/resource/fcaf003cf95f3c16d1e971c8bc89356b/xmlnote/WEB739157f260f25ccada53fcbba4ebc5d2/WEBRESOURCEc779178af543732c904c5dfa406d3a85/64471)

### 插入模式

功能:编辑文本内容.

模式切换: 

- ==i==(小写):在光标所在位置前一格进入插入模式
- ==I==(大写):在光标所在位置行首入进入插入模式
- ==a==(小写):在光标所在位置后一格进入插入模式
- ==A==(大写):在光标所在位置行尾入进入插入模式
- ==o==(小写):在光标所在位置下一行进入插入模式
- ==O==(大写):在光标所在位置上一行进入插入模式

### 命令行模式

功能:识别输入的命令,主要使用复制粘贴.

- 光标跳转命令:
  - ==gg==:光标跳转到开头位置
  - ==G==:光标跳转到结尾位置
  - ==w==:光标跳转到下一个单词
- 复制命令：
  - ==yy==:复制一行代码
  - ==nyy==:复制n行代码 
  - ==p==(小写):粘贴在光标下一行 
  - ==np==(小写):将复制内容粘贴n次
  - ==P==(大写):粘贴在光标上一行
- 剪切命令:
  - ==dd==:剪切光标所在行的内容
  - ==ndd==:剪切n行.
- 撤销命令:
  - ==u==:撤销上一步操作
  - ==`ctrl + r`==:反撤销

- 删除命令:
  - ==x==:删除一个字符 
  - ==nx==:删除n个字符
  - ==dG==从当前光标处删除到末尾
- 代码对齐:
  - ==gg=G==:全局代码对齐
- 查找内容:
  - ==`'/' + string + enter`== :查找'string'所在位置,被查找内容会高亮显示
    - n:向下查找下一个内容
    - N:向上查找上一个内容

### 底行模式

功能:主要执行底行的命令:保存,退出.

- 保存退出:
  - ==:w==:保存文本
  - ==:q==:退出
  - ==:wq==:保存退出
  - ==:x==:保存退出
  - ==:w!==:强行保存
  - ==:wq!==:强行保存退出
  - ==:wqa==:保存退出所有文件

- 设置行号:
  - ==:set nonu==:取消行号
  - ==:set nu==:显示行号
  - ==:n==:直接转到第n行
- 取消高亮:
  - ==nohl==:取消高亮
- 指定行复制与剪切:
  - ==`:m,ny`==:复制从m行到n行的位置
  - ==`:m,nd`==:剪切从m行到n行的位置
- 字符串替换:
  - ==%s/旧字符串/新字符串==:将每一行第一个出现的旧字符,替换为新的字符串
  - ==%s/旧字符串/新字符串==/g:全局替换,将文本所有的旧字符串,全部替换为新字符串
  - ==m,ns/旧字符串/新字符串==:将m行到n行第一次出现的旧字符,替换为新的字符串
  - ==m,ns/旧字符串/新字符串g==:将m行到n行所有的旧字符串,全部替换为新字符串
- 打开文件
  - ==vsp + filename==:左右分屏打开一个新的文件
  - ==sp + filename==:上下分屏打开新的文件 
